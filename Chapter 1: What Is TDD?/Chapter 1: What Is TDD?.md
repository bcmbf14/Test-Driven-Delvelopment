# _Chapter 1: What Is TDD?_

### _Section I: Hello, TDD!_
  - Chapter 1: What Is TDD?
      > 테스트 주도 개발 (TDD)은 테스트를 통해 많은 작은 변경을 수행하여 소프트웨어를 개발하는 반복적 인 방법입니다.
  - Chapter 2: The TDD Cycle
      > TDD에는 Red-Green-Refactor Cycle로 알려진 4 단계가 있습니다.
# 
### _Getting started_

테스트 주도 개발(Test-Driven-Development)는 테스트를 기반으로 많고 작은 변경을 반복적으로 수행하여 소프트웨어를 개발하는 방법입니다.   
        
![image](https://user-images.githubusercontent.com/60660894/91351063-9c7a1500-e822-11ea-8a4f-ca2a5f96293a.png)
        
그리고 총 4단계로 구성됩니다.   

1. 실패한 테스트 작성
2. 테스트 통과
3. 리팩토링
4. 반복 
        
이것을 TDD주기라고 부릅니다. 개발이 테스트를 통해 이루어지기 때문에 코드를 철저하고 정확하게 테스트 할 수 있다는 이점이 있습니다. 
       
테스트를 작성하고 프로덕션 코드를 작성하여 통과하면 1.프로덕션 코드를 테스트할 수 있고, 2.개발 중에 모든 요구사항을 충족하는지 확인할 수 있습니다. 3.추가로 테스트 코드는 프로덕션 코드에 대한 문서화같은 역할을 수행하여 프로덕션코드의 작동 방식을 설명합니다.

### _Why should you use TDD?_

TDD는 소프트웨어가 작동하고 미래에도 계속 잘 작동하도록 보장하는 가장 좋은 방법입니다. 약간 자신감 넘치는 주장일 수 있으나, 이게 무슨 말이냐면 그렇습니다. 
        
테스트를 하기 위해서 꼭 TDD를 수행해야 하는 것은 아닙니다. 프로덕션 코드를 다 작성한 후에 모든 테스트를 작성할 수도 있겠죠. 또한, 모든 프로덕션 코드를 작성한 후에 실제로 실행해보면서 테스트를 할 수도 있을겁니다. 그러나, 테스트를 위해 테스트를 작성하는 것은 좋지않은 방법입니다. 좋은 테스트는 실패하고 반복가능하며 실행이 빠르고 유지보수가 가능합니다. 이런 의미에서 TDD는 테스트가 양호한지 확인하는 방법론을 제공합니다. 

첫 번째 단계는 실패한 테스트를 작성하는 것 입니다. 정의에 따라 이것은 테스트가 실패 할 수 있음을 증명합니다. 실패 할 수없는 테스트는 그다지 유용하지 않습니다. 오히려 귀중한 CPU 시간을 낭비합니다. 새 테스트를 작성하려면 이전의 다른 모든 테스트를 통과해야합니다. 이렇게하면 테스트를 반복 할 수 있습니다. 작업 중인 단일 테스트를 실행하는 것이 아니라 모든 테스트를 지속적으로 실행합니다. 
        
모든 테스트를 자주 실행하면 테스트를 빠르게 실행할 수 있습니다. 모든 테스트를 실행하는 데 몇 초가 소요됩니다. 가급적이면 1초 이하입니다. 수백 밀리 초가 걸리는 단일 테스트는 너무 느립니다. 단 10 개의 테스트 후에 전체 테스트를 실행하는 데 1초가 걸립니다. 50 회의 테스트 후 5초가 걸립니다. 몇 초 후에는 너무 오래 걸리기 때문에 아무도 모든 테스트를 실행하지 않습니다.
        
그리고 리팩토링 할 때 프로덕션 코드와 테스트 코드를 모두 업데이트합니다. 이렇게하면 테스트가 유지됩니다. 지속적으로 최신 상태를 유지합니다. 프로덕션 코드와 테스트를 반복적으로 작성하여 코드를 테스트 할 수 있는지 확인합니다. 만약 코드를 완성한 후 테스트를 작성했다면, 프로덕션 코드는 완전한 단위 테스트를 위해 상당한 리팩토링을 필요로 할 것입니다.
        
그럼에도 불구하고 아무개는 "하지만 TDD를 따르지 않고도 좋은 테스트를 작성할 수 있습니다." 라고 말할 수 있습니다. 단기적으로는 확실히 할 수 있지만 장기적으로는 훨씬 더 어렵습니다. 상식적으로 단위 테스트를 하나하나 유지보수하면서 테스트 코드를 짜는 것과 여러 변수와 메소드가 얽힌 완성된 프로덕션코드를 일일히 단위별로 쪼개서 리팩토링하는 것은 비교가 되지 않을 겁니다. 정말 코드를 잘 작성했다는 전제하에서라도 만약에 일부 기능에 변경이 발생했을 때, 테스트도 같이 변경해주고 해야하는 추가적인 작업이 필요할텐데 TDD를 사용하면 프로덕션 코드가 변경되더라도 항상 최신으로 테스트는 유지가 가능하므로 추가 작업이 필요 없다는 이점도 있습니다.

        
### _What should you test?_

무엇을 테스트 해야 할까요? TDD를 적용할 때, 테스트 해야 할 것과 하지 말아야 할 것들이 있습니다.      
- 자동화 방식으로 잡힐 수 없는 코드에 대한 것들을 테스트합니다. 클래스, 메서드, 사용자지정 getter/setter 와 사용자가 직접 작성하는 대부분의 코드를 말합니다. 
- 생성된 코드에 대한 테스트를 작성하지 마세요. 생성된 getter/setter에 대한 테스트는 가치가 없습니다. swift는 이 작업을 매우 잘 수행합니다. 
- 컴파일러에서 잡을 수 있는 문제에 대한 테스트를 작성할 필요는 없습니다.
- 앱에서 사용하는 자사 또는 타사 프레임워크와 같은 종속성 코드에 대해서 테스트를 작성할 필요는 없습니다. 예를들어 UIKit에 대해 테스트를 작성할 필요는 없습니다. 그것은 UIKit개발자가 작성해야 될 일이기 때문이죠. 그러나 사용자 지정 하위 클래스에 대한 테스트는 작성해야 합니다. 이것은 사용자 지정 코드이기 때문입니다. 예외로는 타사 프레임워크와 같은 코드에 대한 신뢰성 테스트가 필요할 수 있습니다. 해당 라이브러리가 완전히 안정적이기 않거나 신뢰할 수 없는 경우에만 작성합니다. 
        
        
### _But TDD takes too long!_
        
TDD에 대한 가장 일반적인 불만은 시간이 너무 오래 걸린다는 것입니다. 실제로 사실입니다. 당연하게도 테스트를 전혀 작성하지 않는 것에 비해 더 많은 코드를 작성하니까요. 그래도 다행히 TDD는 익숙해지면 더 빨라집니다. 초기 개발에는 시간이 조금 더 걸릴 것입니다.
        
하지만 문제를 장기적으로 생각해봐야 합니다. 개발비용에는 초기 1.0.0 버전의 코드를 만드는 것만 포함되지 않죠. 시간 경과에 따른 새로운 기능추가, 기존 코드 수정, 버그 수정 등이 포함됩니다. 
        
이런 부분에 있어서 TDD를 따르는 것은 더 적은 버그로 더 많은 유지보수가 가능한 코드를 생성하기 때문에 따르지 않는 것보다 더 적은 시간이 걸립니다. 
        
또한 고려해야 할 또 다른 비용은 바로 버그입니다. 아주 작고 사소한 버그라도 코드가 방대하면 방대할수록 찾기가 힘들죠. 버그를 발견되지 않는 시간이 길수록 인건비 + @ 에 대한 비용은 더 많이 듭니다. 앱에 대한 부정적인 리뷰, 신뢰도 상실 및 수익 상실로 이어질 수도 있겠죠. 해당 버그에 대해서 개발 중에 문제가 발견되었다면 더 쉽고 빠르게 해결됩니다. 몇 달 후에 발견했다면, 근본 원인을 추적하는데 훨씬 더 많은 시간을 할애할 것입니다. 

이처럼, TDD를 따른다면 궁극적으로 버그로부터 앱을 보호하고 보호하는데 도움이 되며 시간과 비용도 훨씬 더 적게든다고 할 수 있겠습니다. 

        
### _When should you use TDD?_
        
TDD는 새롭게 프로젝트에 들어갈 때, 레거시 앱 및 그 사이의 모든 제품 수명주기의 어느 시점에서나 사용할 수 있습니다. 시작하는 방법과 위치가 프로젝트 상태에 따라 다를 뿐이죠. 
        
### _Should your project use TDD at all?_
        
모든 프로젝트에서 TDD를 사용해야 하는 것은 아닙니다. 해커 톤, 테스트 프로젝트 또는 일시적인 용도로 앱을 만드는 경우 TDD가 적절한 지 평가해야합니다. 실제로 한 가지 버전의 앱만있을 경우 TDD를 따르지 않거나 중요하거나 어려운 부분에 대해서만 TDD를 수행 할 수 있습니다.
        
### _Key points_
        
- TDD는 좋은 테스트를 작성하는 일관된 방법을 제공합니다.      
- 상품 테스트는 실패하고 반복 가능하며 실행이 빠르고 유지 보수가 가능합니다.        
- 유지 관리를 담당하는 코드에 대한 테스트를 작성하십시오. 자동으로 생성 된 코드나 종속성 내에서 코드를 테스트하지 마세요.     
- 실제 개발 비용에는 초기 코딩 시간, 시간에 따른 새로운 기능 추가, 기존 코드 수정, 버그 수정 등이 포함됩니다. TDD는 유지 관리 비용과 버그 수를 줄여 가장 비용 효율적인 접근 방식입니다.     
- TDD는 몇 달 이상 지속되거나 여러 릴리스가있는 장기 프로젝트에 가장 유용합니다.        


